<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Introduction II</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./04-frequency_distribution.html" rel="next">
<link href="./02-basic_building_blocks.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e8fb9d25728d58bfeac61b497e4a6629.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-57a92833092fd6dc0d7710b6bdfff9c5.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-26a71f2b824b3e323bb4b2f87a684bec.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-22f3b3604dd1545f9653ae63cc55d477.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<link href="site_libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet">


<link rel="stylesheet" href="assets/all_css/styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./02-basic_building_blocks.html">Core Content</a></li><li class="breadcrumb-item"><a href="./03-handling_data_structures.html">Introduction II</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="https://www.ucl.ac.uk/module-catalogue/modules/foundations-of-geography-1-GEOG0186" class="sidebar-logo-link">
      <img src="./assets/all_images/sidebar_cosmetics/00_ucl_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/UCLPG-MSC-SGDS/GEOG0186" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
    <div id="quarto-search" class="quarto-navigation-tool px-1" title="Search"></div>
</div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Module Overview</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-module_overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Getting Started</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-what_is_rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What is RStudio (or R)?</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Core Content</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-basic_building_blocks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction I</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-handling_data_structures.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Introduction II</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-frequency_distribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Examining Data I</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#handling-data-structures-in-rstudio" id="toc-handling-data-structures-in-rstudio" class="nav-link active" data-scroll-target="#handling-data-structures-in-rstudio"><span class="header-section-number">1</span> Handling Data Structures in RStudio</a>
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link" data-scroll-target="#learning-objectives"><span class="header-section-number">1.1</span> Learning objectives</a></li>
  <li><a href="#setting-the-working-directory-to-datasets-length-000524" id="toc-setting-the-working-directory-to-datasets-length-000524" class="nav-link" data-scroll-target="#setting-the-working-directory-to-datasets-length-000524"><span class="header-section-number">1.2</span> Setting the Working Directory to Datasets (Length: 00:05:24)</a>
  <ul class="collapse">
  <li><a href="#setting-the-path-location-on-mac-length-000644" id="toc-setting-the-path-location-on-mac-length-000644" class="nav-link" data-scroll-target="#setting-the-path-location-on-mac-length-000644"><span class="header-section-number">1.2.1</span> Setting the Path Location on MAC (Length: 00:06:44)</a></li>
  <li><a href="#setting-the-path-location-on-windows-length-000507" id="toc-setting-the-path-location-on-windows-length-000507" class="nav-link" data-scroll-target="#setting-the-path-location-on-windows-length-000507"><span class="header-section-number">1.2.2</span> Setting the Path Location on Windows (Length: 00:05:07)</a></li>
  </ul></li>
  <li><a href="#how-to-import-a-dataset-into-rstudio-length-000621" id="toc-how-to-import-a-dataset-into-rstudio-length-000621" class="nav-link" data-scroll-target="#how-to-import-a-dataset-into-rstudio-length-000621"><span class="header-section-number">1.3</span> How to Import a Dataset into RStudio (Length: 00:06:21)</a></li>
  <li><a href="#data-structure" id="toc-data-structure" class="nav-link" data-scroll-target="#data-structure"><span class="header-section-number">1.4</span> Data Structure</a>
  <ul class="collapse">
  <li><a href="#inspecting-the-size-and-structure-length-000816" id="toc-inspecting-the-size-and-structure-length-000816" class="nav-link" data-scroll-target="#inspecting-the-size-and-structure-length-000816"><span class="header-section-number">1.4.1</span> Inspecting the Size and Structure (Length: 00:08:16)</a></li>
  <li><a href="#basic-manipulation-of-data-frame" id="toc-basic-manipulation-of-data-frame" class="nav-link" data-scroll-target="#basic-manipulation-of-data-frame"><span class="header-section-number">1.4.2</span> Basic Manipulation of Data Frame</a>
  <ul class="collapse">
  <li><a href="#subsetting-using-rows-and-columns-length-001706" id="toc-subsetting-using-rows-and-columns-length-001706" class="nav-link" data-scroll-target="#subsetting-using-rows-and-columns-length-001706"><span class="header-section-number">1.4.2.1</span> Subsetting using Rows and Columns (Length: 00:17:06)</a></li>
  <li><a href="#subsetting-using-logical-operators-to-combine-conditions-length-001538" id="toc-subsetting-using-logical-operators-to-combine-conditions-length-001538" class="nav-link" data-scroll-target="#subsetting-using-logical-operators-to-combine-conditions-length-001538"><span class="header-section-number">1.4.2.2</span> Subsetting using Logical Operators to Combine Conditions (Length: 00:15:38)</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#saving-your-dataset-length-001113" id="toc-saving-your-dataset-length-001113" class="nav-link" data-scroll-target="#saving-your-dataset-length-001113"><span class="header-section-number">1.5</span> Saving your dataset (Length: 00:11:13)</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">1.6</span> Summary</a></li>
  </ul></li>
  <li><a href="#worksheet-one-workflow-and-generating-data-in-rstudio" id="toc-worksheet-one-workflow-and-generating-data-in-rstudio" class="nav-link" data-scroll-target="#worksheet-one-workflow-and-generating-data-in-rstudio"><span class="header-section-number">2</span> Worksheet One: Workflow and Generating Data in RStudio</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/UCLPG-MSC-SGDS/GEOG0186/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./02-basic_building_blocks.html">Core Content</a></li><li class="breadcrumb-item"><a href="./03-handling_data_structures.html">Introduction II</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Introduction II</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="handling-data-structures-in-rstudio" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Handling Data Structures in RStudio</h1>
<section id="learning-objectives" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="learning-objectives"><span class="header-section-number">1.1</span> Learning objectives</h2>
<p>By the end of this tutorial, you will be able to:</p>
<ol type="1">
<li>Set your working directory on Mac and Windows</li>
<li>Import a .csv file into RStudio</li>
<li>Understand the structure of a data frame (rows and columns)</li>
<li>Filter data using both numeric and categorical variables</li>
<li>Combine multiple conditions with logical operators to perform further filtering of data</li>
<li>Export data back into a .csv file</li>
</ol>
<p>These objectives, combined with those from last week, serve as a gateway to learning RStudio and building a strong foundation. Let us begin!</p>
</section>
<section id="setting-the-working-directory-to-datasets-length-000524" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="setting-the-working-directory-to-datasets-length-000524"><span class="header-section-number">1.2</span> Setting the Working Directory to Datasets (Length: 00:05:24)</h2>
<div class="cell" data-warnings="false">
<div class="cell-output-display">
<div class="vembedr" align="center">
<div>
<iframe src="https://www.youtube.com/embed/-rzneFvp190" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
</div>
</div>
<p><a href="https://youtu.be/-rzneFvp190">[<strong>Watch on YouTube</strong>]</a></p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Before we do anything - make sure to have downloaded the dataset for this computer session by clicking <a href="https://github.com/UCLPG-MSC-SGDS/GEOG0186/raw/main/datasets/Dataset%20for%20Week%202.zip"><strong>[HERE]</strong></a>. It contains the file <code>Primary Schools in Ealing.csv</code> - this comma separated values (CSV) file contains the data needed to follow today’s tutorial.</p>
<p><strong>Instructions</strong> In your computer, do the following:</p>
<ol type="1">
<li>Create a new folder on your desktop and rename the folder <strong>GEOG0186</strong></li>
<li>Next, create a new sub-folder within <strong>GEOG0186</strong> and rename it as <strong>Week 2</strong>.</li>
<li>From the downloaded folder <strong>Dataset for Week 2</strong>, make sure to unzip and transfer <strong>ALL</strong> the datasets directly to the <strong>Week 2</strong> folder.</li>
</ol>
</div>
</div>
<p>This part is probably the most important section of this tutorial. We are going to learn how to set the <strong>Work Directory</strong>. This basically refers to us connecting the RStudio to the folder containing our dataset that we want to import and analyse.</p>
<p>Doing this allows the user to tell RStudio to open data from a folder located somewhere in our computer using something called the <strong>Path Location</strong>.</p>
<p>The <strong>Path Location</strong> specifies the whereabouts of the data file(s) stored within a computer. Setting your directory in RStudio, <strong>in code</strong>, beforehand makes life incredibly easier (than the usual point-and-click approach) in terms of finding, importing, exporting and saving data in and out of RStudio.</p>
<p>To illustrate what a <strong>Path Location</strong> is – suppose on my desktop’s dashboard on a Mac/Windows there is a folder called <strong>GEOG0186</strong>, and within that folder, exists another folder called <strong>Week 2</strong>. Finally, suppose a comma separated value (.csv) data file called <code>Primary Schools in Ealing.csv</code> is store in this folder i.e., <strong>Week 2</strong>. If via RStudio you want to open this CSV data file located in within the <strong>Week 2</strong> folder. You will need to first set the path to <strong>Week 2</strong> in RStudio using the <code>setwd()</code> function.</p>
<section id="setting-the-path-location-on-mac-length-000644" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="setting-the-path-location-on-mac-length-000644"><span class="header-section-number">1.2.1</span> Setting the Path Location on MAC (Length: 00:06:44)</h3>
<div class="cell" data-warnings="false">
<div class="cell-output-display">
<div class="vembedr" align="center">
<div>
<iframe src="https://www.youtube.com/embed/S0CaXUH0Mz0" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
</div>
</div>
<p><a href="https://youtu.be/S0CaXUH0Mz0">[<strong>Watch on YouTube</strong>]</a></p>
<p>For <strong>MAC</strong> users, the path location would be written as follows, <code>"/Users/accountName/Desktop/GEOG0186/Week 2"</code>. You can access this piece of information simply by:</p>
<ol type="1">
<li>Open the folder <strong>GEOG0186</strong></li>
<li>Right-clicking on the folder <strong>Week 2</strong> in which the files are stored. A drop-down scroll menu will appear (see image below).</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/all_images/set_working_directory/00_setwd_mac.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<ol start="3" type="1">
<li>Hold the <strong>Option</strong> (<code>⌥</code>) button on your keyboard down, and click <strong>Copy “Week 2” as Pathname</strong></li>
<li>Paste the copied path name into the function <code>setwd()</code> and run the code</li>
</ol>
<p>For Mac, the <code>setwd()</code> is as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set work directory in macs</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"/Users/accountName/Desktop/GEOG0186/Week 2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="setting-the-path-location-on-windows-length-000507" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="setting-the-path-location-on-windows-length-000507"><span class="header-section-number">1.2.2</span> Setting the Path Location on Windows (Length: 00:05:07)</h3>
<div class="cell" data-warnings="false">
<div class="cell-output-display">
<div class="vembedr" align="center">
<div>
<iframe src="https://www.youtube.com/embed/_r0MTEnoOhg" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
</div>
</div>
<p><a href="https://youtu.be/_r0MTEnoOhg">[<strong>Watch on YouTube</strong>]</a></p>
<p>For Windows user (on <strong>UCL PCs</strong>), its marginally different - the path location to this folder on a <strong>Windows</strong> machine would be written as follows, <code>"N:/Desktop/GEOG00186/Week 2"</code>. You can access this piece of information simply by:</p>
<ol type="1">
<li>Open the <strong>GEOG0186</strong> folder to reveal the <strong>Week 2</strong> folder.</li>
<li>Open the <strong>Week 2</strong> folder where your downloaded data files have been stored.</li>
<li>Now, click on the browser bar at the top which shows <code>GEOG0186 &gt; Week 2</code>. This should highlight and show <code>"N:\Desktop\GEOG0186\Week 2"</code> (see image below).</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/all_images/set_working_directory/01_setwd_windows.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<ol start="4" type="1">
<li>Now, copy <code>"N:\Desktop\GEOG0186\Week 2"</code> and paste the path name into the <code>setwd()</code> function in your R script.</li>
<li>Lastly, change all the back slashes <code>\</code> in the path name to forward slashes <code>/</code> and run the code. It should look like this: <code>setwd("N:/Desktop/GEOG0186/Week 2")</code>.</li>
</ol>
<p>For <strong>Windows</strong>, the <code>setwd()</code> is as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set work directory in windows (using UCL PC)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"N:/Desktop/GEOG0186/Week 2"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># note that on usual Windows OS on a personal computer - the code looks something like:</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Users/accountName/Desktop/GEOG0186/Week 2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you type the code <code>getwd()</code> and quickly run it through console - if it returns the inputted path location - then you have done this correctly.</p>
<p>Now, let us learn how to import a CSV data into RStudio.</p>
</section>
</section>
<section id="how-to-import-a-dataset-into-rstudio-length-000621" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="how-to-import-a-dataset-into-rstudio-length-000621"><span class="header-section-number">1.3</span> How to Import a Dataset into RStudio (Length: 00:06:21)</h2>
<div class="cell" data-warnings="false">
<div class="cell-output-display">
<div class="vembedr" align="center">
<div>
<iframe src="https://www.youtube.com/embed/MxBlUJkKOnA" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
</div>
</div>
<p><a href="https://youtu.be/MxBlUJkKOnA">[<strong>Watch on YouTube</strong>]</a></p>
<p>A CSV file (short for Comma-Separated Values) is one of the most common formats for storing data. Each <strong>row</strong> is a <strong>single record</strong> or <strong>observation</strong>. For example, it can be details about a person, household unit, a city, or even disease events; and while each <strong>column</strong> is a <strong>variable</strong> (for example, population counts, temperature readings, or region name etc.).</p>
<p>For this exercise, we will be using the <code>Primary Schools in Ealing.csv</code> dataset to build intuition on understanding the basics of data structure.</p>
<p>Since, we have already set the work directory to folder containing this dataset. Importing it into RStudio would be a piece of cake.</p>
<p>To read a CSV file into R, we can use the <code>read.csv()</code> function import it as a <strong>data frame object</strong> named <code>school_data</code> using the assignment operator (<code>&lt;-</code>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data into RStudio. The spreadsheet is stored in the object called 'school_data'</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>school_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"Primary Schools in Ealing.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The loaded dataset contains up to 58 primary schools with the following <strong>variables</strong>:</p>
<ul>
<li><code>SchoolName</code>: Name of school in Ealing (<strong>character</strong>)</li>
<li><code>Type</code>: School classified as a “Primary” school (<strong>character</strong>)</li>
<li><code>NumberBoys</code>: Total number of boys in a primary school (<strong>integer</strong>/)</li>
<li><code>NumberGirls</code>: Total number of girls in a primary school (<strong>integer</strong>)</li>
<li><code>TotalStudents</code>: Total number of students in a primary school (<strong>integer</strong>)</li>
<li><code>OfstedGrade</code>: Overall school performance where <code>1</code> = “excellent”, <code>2</code> = “good”, <code>3</code> = “requires improvement”, and <code>4</code> = “inadequate” (<strong>factor</strong>/<strong>categorical</strong>)</li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>We have covered a lot of the basics in RStudio - i.e., setting the work directory and importing a spreadsheet that is CSV format. The things shown in this section will be used frequently in all future tutorials. So, get used to using <code>setwd()</code> and <code>read.csv()</code>.</p>
</div>
</div>
</section>
<section id="data-structure" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="data-structure"><span class="header-section-number">1.4</span> Data Structure</h2>
<section id="inspecting-the-size-and-structure-length-000816" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="inspecting-the-size-and-structure-length-000816"><span class="header-section-number">1.4.1</span> Inspecting the Size and Structure (Length: 00:08:16)</h3>
<div class="cell" data-warnings="false">
<div class="cell-output-display">
<div class="vembedr" align="center">
<div>
<iframe src="https://www.youtube.com/embed/PDEw6dIlijg" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
</div>
</div>
<p><a href="https://youtu.be/PDEw6dIlijg">[<strong>Watch on YouTube</strong>]</a></p>
<p>One can examine the structure of the imported data with the following basic functions.</p>
<ul>
<li><code>str()</code>: tells the user which columns in the data frame are character or numeric variables, and so on.</li>
<li><code>names()</code>: prints the entire names of the columns present in the data frame</li>
<li><code>head()</code>: allows the user to see the first top 10 rows of the data frame</li>
<li><code>tail()</code>: allows the user to see the last bottom 10 rows of the data frame</li>
<li><code>ncol()</code>: tells the user the total number of columns present in the data frame</li>
<li><code>nrow()</code>: tells the user the total number of observations (or rows) present in the data frame</li>
<li><code>dim()</code>: prints both the total number of observations (or rows) and columns present in the data frame.</li>
</ul>
<p>Using the following code <code>str()</code> will display the structure of <code>school_data</code> data frame object and some of its contents:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(school_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   58 obs. of  6 variables:
 $ SchoolName   : chr  "Berrymede Junior School" "East Acton Primary School" "Oldfield Primary School" "North Ealing Primary School" ...
 $ Type         : chr  "Primary" "Primary" "Primary" "Primary" ...
 $ NumberBoys   : int  180 160 225 340 265 230 155 285 185 150 ...
 $ NumberGirls  : int  200 165 240 355 205 205 180 290 190 125 ...
 $ TotalStudents: int  377 329 465 697 471 435 335 573 373 273 ...
 $ OfstedGrade  : int  2 2 2 2 2 2 2 3 2 2 ...</code></pre>
</div>
</div>
<p>Using the following code <code>head()</code> or <code>tail()</code> will display the first or last 10 observations, respectively, in the <code>school_data</code> data frame object:</p>
<div class="cell" data-max.height="100px">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(school_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   SchoolName    Type NumberBoys NumberGirls TotalStudents
1     Berrymede Junior School Primary        180         200           377
2   East Acton Primary School Primary        160         165           329
3     Oldfield Primary School Primary        225         240           465
4 North Ealing Primary School Primary        340         355           697
5    St John's Primary School Primary        265         205           471
6    St Mark's Primary School Primary        230         205           435
  OfstedGrade
1           2
2           2
3           2
4           2
5           2
6           2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(school_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                       SchoolName    Type NumberBoys
53           St Vincent's Catholic Primary School Primary        240
54 Edward Betham Church of England Primary School Primary        230
55                    Dormers Wells Junior School Primary        205
56                          Grange Primary School Primary        415
57                      Petts Hill Primary School Primary        125
58                       Khalsa VA Primary School Primary        235
   NumberGirls TotalStudents OfstedGrade
53         260           498           2
54         240           471           2
55         200           409           3
56         385           800           2
57         130           254           2
58         180           412           2</code></pre>
</div>
</div>
<p>You can inspect the data frame object in a <strong>Data viewer</strong> by using the <code>View()</code> syntax. This should cause the <strong>Data viewer</strong> window to open showing the full dataset:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(school_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The dataset has 58 rows (primary school observations) and 6 columns (variables). You can use <code>nrow</code>, <code>ncol</code> and <code>dim()</code> functions separately to report the size of your data frame:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># total number of rows</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(school_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 58</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># total number of columns</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(school_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># full size of data frame i.e., total rows and columns</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(school_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 58  6</code></pre>
</div>
</div>
</section>
<section id="basic-manipulation-of-data-frame" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="basic-manipulation-of-data-frame"><span class="header-section-number">1.4.2</span> Basic Manipulation of Data Frame</h3>
<section id="subsetting-using-rows-and-columns-length-001706" class="level4" data-number="1.4.2.1">
<h4 data-number="1.4.2.1" class="anchored" data-anchor-id="subsetting-using-rows-and-columns-length-001706"><span class="header-section-number">1.4.2.1</span> Subsetting using Rows and Columns (Length: 00:17:06)</h4>
<div class="cell" data-warnings="false">
<div class="cell-output-display">
<div class="vembedr" align="center">
<div>
<iframe src="https://www.youtube.com/embed/dE9Jc9_hCQA" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
</div>
</div>
<p><a href="https://youtu.be/dE9Jc9_hCQA">[<strong>Watch on YouTube</strong>]</a></p>
<p>One can subset or restrict the data frame by specifying which row(s) and column(s) to keep or discard using this standard square bracket syntax <code>dataframe[Row, Column]</code>.</p>
<p>Breakdown of <code>dataframe[Row, Column]</code>code:</p>
<ol type="1">
<li>The bit in the code that corresponds to <code>dataframe</code> from <code>dataframe[Row, Column]</code> represents the <strong>name</strong> data frame object.</li>
<li>Where it states <code>Row</code> within the square brackets specifies the subsetting, or filter action to be carried out based on rows.</li>
<li>Where it states <code>Column</code> within the square brackets specifies the subsetting, or filter action to be carried out based on columns.</li>
</ol>
<p>Let’s take our <code>school_data</code> data frame as an example - if we select the first row (row number 1) and the first column (SchoolName), we have essentially filter out only the school name <code>Berrymede Junior School Primary</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>data11 <span class="ot">&lt;-</span> school_data[<span class="dv">1</span>, <span class="dv">1</span>]</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>data11</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Berrymede Junior School"</code></pre>
</div>
</div>
<p>If you select only the first row (row number 1) and do not specific any numbers for the columns, you will be filtering out the entire row for row number 1:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>row1 <span class="ot">&lt;-</span> school_data[<span class="dv">1</span>, ]</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>row1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               SchoolName    Type NumberBoys NumberGirls TotalStudents
1 Berrymede Junior School Primary        180         200           377
  OfstedGrade
1           2</code></pre>
</div>
</div>
<p>In the same vein, if you select only the column and do not specific any numbers for the rows, you will be filtering out the entire column (i.e., <code>SchoolName</code> variable) for column number 1 which is the list of all primary school names:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>column1 <span class="ot">&lt;-</span> school_data[, <span class="dv">1</span>]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>column1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Berrymede Junior School"                           
 [2] "East Acton Primary School"                         
 [3] "Oldfield Primary School"                           
 [4] "North Ealing Primary School"                       
 [5] "St John's Primary School"                          
 [6] "St Mark's Primary School"                          
 [7] "West Twyford Primary School"                       
 [8] "West Acton Primary School"                         
 [9] "Mayfield Primary School"                           
[10] "Beaconsfield Primary and Nursery School"           
[11] "Coston Primary School"                             
[12] "Downe Manor Primary School"                        
[13] "Drayton Green Primary School"                      
[14] "North Primary School"                              
[15] "Ravenor Primary School"                            
[16] "Selborne Primary School"                           
[17] "Hambrough Primary School"                          
[18] "Hobbayne Primary School"                           
[19] "John Perryn Primary School"                        
[20] "Southfield Primary School"                         
[21] "Allenby Primary School"                            
[22] "Blair Peach Primary School"                        
[23] "Clifton Primary School"                            
[24] "Dairy Meadow Primary School"                       
[25] "Derwentwater Primary School"                       
[26] "Durdans Park Primary School"                       
[27] "Fielding Primary School"                           
[28] "Gifford Primary School"                            
[29] "Greenwood Primary School"                          
[30] "Havelock Primary School and Nursery"               
[31] "Horsenden Primary School"                          
[32] "Willow Tree Primary School"                        
[33] "Lady Margaret Primary School"                      
[34] "Little Ealing Primary School"                      
[35] "Oaklands Primary School"                           
[36] "Perivale Primary School"                           
[37] "Stanhope Primary School"                           
[38] "Viking Primary School"                             
[39] "Wolf Fields Primary School"                        
[40] "Featherstone Primary and Nursery School"           
[41] "Three Bridges Primary School"                      
[42] "Montpelier Primary School"                         
[43] "Tudor Primary School"                              
[44] "Hathaway Primary School"                           
[45] "Vicar's Green Primary School"                      
[46] "Mount Carmel Catholic Primary School"              
[47] "Our Lady of the Visitation Catholic Primary School"
[48] "St John Fisher Catholic Primary School"            
[49] "St Anselm's Catholic Primary School"               
[50] "St Gregory's Catholic Primary School"              
[51] "St Joseph's Catholic Primary School"               
[52] "St Raphael's Catholic Primary School"              
[53] "St Vincent's Catholic Primary School"              
[54] "Edward Betham Church of England Primary School"    
[55] "Dormers Wells Junior School"                       
[56] "Grange Primary School"                             
[57] "Petts Hill Primary School"                         
[58] "Khalsa VA Primary School"                          </code></pre>
</div>
</div>
<p>What if we wanted to filter the following rows numbered <code>2</code>, <code>7</code> and <code>19</code> from the <code>school_data</code> data frame object as highlighted in the image below?</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/all_images/subsetting_dfs/01_rows_only.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>We can use the combine function i.e., <code>c()</code> to list those numbers in the square brackets:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>rows_filter <span class="ot">&lt;-</span> school_data[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">7</span>, <span class="dv">19</span>), ]</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>rows_filter</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    SchoolName    Type NumberBoys NumberGirls TotalStudents
2    East Acton Primary School Primary        160         165           329
7  West Twyford Primary School Primary        155         180           335
19  John Perryn Primary School Primary        230         230           460
   OfstedGrade
2            2
7            2
19           2</code></pre>
</div>
</div>
<p>Likewise, what if we wanted to filter the following columns numbered <code>1</code>, <code>5</code> and <code>6</code> from the <code>school_data</code> data frame object as highlighted in the image below?</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/all_images/subsetting_dfs/02_columns_only.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>We can also use the combine function i.e., <code>c()</code> to list those numbers for the columns within that square brackets:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>columns_filter <span class="ot">&lt;-</span> school_data[ , <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">6</span>)]</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>columns_filter</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                           SchoolName TotalStudents OfstedGrade
1                             Berrymede Junior School           377           2
2                           East Acton Primary School           329           2
3                             Oldfield Primary School           465           2
4                         North Ealing Primary School           697           2
5                            St John's Primary School           471           2
6                            St Mark's Primary School           435           2
7                         West Twyford Primary School           335           2
8                           West Acton Primary School           573           3
9                             Mayfield Primary School           373           2
10            Beaconsfield Primary and Nursery School           273           2
11                              Coston Primary School           450           2
12                         Downe Manor Primary School           471           2
13                       Drayton Green Primary School           354           2
14                               North Primary School           419           1
15                             Ravenor Primary School           610           2
16                            Selborne Primary School           554           2
17                           Hambrough Primary School           520           2
18                            Hobbayne Primary School           641           2
19                         John Perryn Primary School           460           2
20                          Southfield Primary School           518           2
21                             Allenby Primary School           263           2
22                         Blair Peach Primary School           506           2
23                             Clifton Primary School           400           2
24                        Dairy Meadow Primary School           469           2
25                        Derwentwater Primary School           708           2
26                        Durdans Park Primary School           528           2
27                            Fielding Primary School           891           2
28                             Gifford Primary School           866           1
29                           Greenwood Primary School           555           2
30                Havelock Primary School and Nursery           434           1
31                           Horsenden Primary School           872           2
32                         Willow Tree Primary School           759           2
33                       Lady Margaret Primary School           671           2
34                       Little Ealing Primary School           669           2
35                            Oaklands Primary School           552           2
36                            Perivale Primary School           467           2
37                            Stanhope Primary School           598           2
38                              Viking Primary School           275           2
39                         Wolf Fields Primary School           421           2
40            Featherstone Primary and Nursery School           722           2
41                       Three Bridges Primary School           455           2
42                          Montpelier Primary School           682           1
43                               Tudor Primary School           453           2
44                            Hathaway Primary School           346           4
45                       Vicar's Green Primary School           342           1
46               Mount Carmel Catholic Primary School           457           2
47 Our Lady of the Visitation Catholic Primary School           471           3
48             St John Fisher Catholic Primary School           467           1
49                St Anselm's Catholic Primary School           239           3
50               St Gregory's Catholic Primary School           619           2
51                St Joseph's Catholic Primary School           558           2
52               St Raphael's Catholic Primary School           589           2
53               St Vincent's Catholic Primary School           498           2
54     Edward Betham Church of England Primary School           471           2
55                        Dormers Wells Junior School           409           3
56                              Grange Primary School           800           2
57                          Petts Hill Primary School           254           2
58                           Khalsa VA Primary School           412           2</code></pre>
</div>
</div>
<p>What if we wanted to filter on rows numbered <code>2</code>, <code>7</code> and <code>19</code>, as well as columns numbered <code>1</code>, <code>5</code> and <code>6</code> from that <code>school_data</code> data frame object as highlighted in the image below?</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/all_images/subsetting_dfs/03_rows_and_columns.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>full_filter <span class="ot">&lt;-</span> school_data[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">7</span>, <span class="dv">19</span>) , <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">6</span>)]</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>full_filter</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    SchoolName TotalStudents OfstedGrade
2    East Acton Primary School           329           2
7  West Twyford Primary School           335           2
19  John Perryn Primary School           460           2</code></pre>
</div>
</div>
<p>Not too shabby! So far, you have been shown how to do some create subset of data by filtering rows and columns. Let’s take it up a notch on filtering based on row <strong>Logical Operators</strong> to create <strong>conditions</strong>.</p>
</section>
<section id="subsetting-using-logical-operators-to-combine-conditions-length-001538" class="level4" data-number="1.4.2.2">
<h4 data-number="1.4.2.2" class="anchored" data-anchor-id="subsetting-using-logical-operators-to-combine-conditions-length-001538"><span class="header-section-number">1.4.2.2</span> Subsetting using Logical Operators to Combine Conditions (Length: 00:15:38)</h4>
<div class="cell" data-warnings="false">
<div class="cell-output-display">
<div class="vembedr" align="center">
<div>
<iframe src="https://www.youtube.com/embed/I3dpW72kqVQ" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
</div>
</div>
<p><a href="https://youtu.be/I3dpW72kqVQ">[<strong>Watch on YouTube</strong>]</a></p>
<p>Often, we want to filter based on more than one condition — for example, “cities in England <strong>and</strong> with a population over 600000”. RStudio uses logical operators to combine these conditions:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 14%">
<col style="width: 34%">
<col style="width: 44%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operator</th>
<th style="text-align: left;">Meaning</th>
<th style="text-align: left;">Example</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>==</code></td>
<td style="text-align: left;">Equal to</td>
<td style="text-align: left;"><code>country == "England"</code></td>
<td style="text-align: left;">True if the country is England</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>!=</code></td>
<td style="text-align: left;">Not Equal to</td>
<td style="text-align: left;"><code>country != "England"</code></td>
<td style="text-align: left;">True if for all except England</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&gt;</code></td>
<td style="text-align: left;">Greater than</td>
<td style="text-align: left;"><code>population &gt; 600000</code></td>
<td style="text-align: left;">True if population is above 600000</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;</code></td>
<td style="text-align: left;">Less than</td>
<td style="text-align: left;"><code>population &lt; 600000</code></td>
<td style="text-align: left;">True if population is under 600000</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&gt;=</code></td>
<td style="text-align: left;">Greater than or eqaul to</td>
<td style="text-align: left;"><code>population &gt;= 600000</code></td>
<td style="text-align: left;">True if population is equal to 600000 or more</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;=</code></td>
<td style="text-align: left;">Less than or equal to</td>
<td style="text-align: left;"><code>population &lt;= 600000</code></td>
<td style="text-align: left;">True if population is equal to 600000 or less</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&amp;</code></td>
<td style="text-align: left;">AND</td>
<td style="text-align: left;"><code>country == "England" &amp; population &lt;= 600000</code></td>
<td style="text-align: left;">Both conditions are true</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>|</code></td>
<td style="text-align: left;">OR</td>
<td style="text-align: left;"><code>country == "England" | country == "Wales"</code></td>
<td style="text-align: left;">True for either England or Wales</td>
</tr>
</tbody>
</table>
<p>Let’s illustrate with the <code>school_data</code> object. We are interested in primary schools with a total of 500 hundred or more students. This operation is <strong>always</strong> row-based. We will need to use the <code>$</code> to call the column <code>TotalStudents</code> and the logical operator for this filter is <code>&gt;=</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>schools_500plus <span class="ot">&lt;-</span> school_data[school_data<span class="sc">$</span>TotalStudents <span class="sc">&gt;=</span> <span class="dv">500</span>, ]</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>schools_500plus</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                SchoolName    Type NumberBoys NumberGirls
4              North Ealing Primary School Primary        340         355
8                West Acton Primary School Primary        285         290
15                  Ravenor Primary School Primary        315         295
16                 Selborne Primary School Primary        275         280
17                Hambrough Primary School Primary        275         245
18                 Hobbayne Primary School Primary        340         300
20               Southfield Primary School Primary        275         245
22              Blair Peach Primary School Primary        265         245
25             Derwentwater Primary School Primary        335         370
26             Durdans Park Primary School Primary        275         250
27                 Fielding Primary School Primary        480         410
28                  Gifford Primary School Primary        435         435
29                Greenwood Primary School Primary        290         265
31                Horsenden Primary School Primary        440         435
32              Willow Tree Primary School Primary        385         370
33            Lady Margaret Primary School Primary        360         310
34            Little Ealing Primary School Primary        345         325
35                 Oaklands Primary School Primary        290         260
37                 Stanhope Primary School Primary        305         295
40 Featherstone Primary and Nursery School Primary        365         360
42               Montpelier Primary School Primary        350         330
50    St Gregory's Catholic Primary School Primary        305         310
51     St Joseph's Catholic Primary School Primary        295         265
52    St Raphael's Catholic Primary School Primary        325         265
56                   Grange Primary School Primary        415         385
   TotalStudents OfstedGrade
4            697           2
8            573           3
15           610           2
16           554           2
17           520           2
18           641           2
20           518           2
22           506           2
25           708           2
26           528           2
27           891           2
28           866           1
29           555           2
31           872           2
32           759           2
33           671           2
34           669           2
35           552           2
37           598           2
40           722           2
42           682           1
50           619           2
51           558           2
52           589           2
56           800           2</code></pre>
</div>
</div>
<p>What if were interested in primary schools with an OFSTED score of <code>1</code> (Excellent). Again, this operation is row-based and so we will need to use the <code>$</code> to call the column <code>OfstedGrade</code> and the logical operator for this filter is <code>==</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>schools_ofsted1 <span class="ot">&lt;-</span> school_data[school_data<span class="sc">$</span>OfstedGrade <span class="sc">==</span> <span class="dv">1</span>, ]</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>schools_ofsted1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                               SchoolName    Type NumberBoys NumberGirls
14                   North Primary School Primary        215         205
28                 Gifford Primary School Primary        435         435
30    Havelock Primary School and Nursery Primary        245         190
42              Montpelier Primary School Primary        350         330
45           Vicar's Green Primary School Primary        165         180
48 St John Fisher Catholic Primary School Primary        225         240
   TotalStudents OfstedGrade
14           419           1
28           866           1
30           434           1
42           682           1
45           342           1
48           467           1</code></pre>
</div>
</div>
<p>Here is an example of combining such logical operators - select schools that have more than 650 students and with an OFSTED score of 2.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># logical operators is &gt;, &amp;, ==</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>schools_650_ofsted2 <span class="ot">&lt;-</span> school_data[school_data<span class="sc">$</span>TotalStudents <span class="sc">&gt;</span> <span class="dv">650</span> <span class="sc">&amp;</span> school_data<span class="sc">$</span>OfstedGrade <span class="sc">==</span> <span class="dv">2</span>, ]</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>schools_650_ofsted2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                SchoolName    Type NumberBoys NumberGirls
4              North Ealing Primary School Primary        340         355
25             Derwentwater Primary School Primary        335         370
27                 Fielding Primary School Primary        480         410
31                Horsenden Primary School Primary        440         435
32              Willow Tree Primary School Primary        385         370
33            Lady Margaret Primary School Primary        360         310
34            Little Ealing Primary School Primary        345         325
40 Featherstone Primary and Nursery School Primary        365         360
56                   Grange Primary School Primary        415         385
   TotalStudents OfstedGrade
4            697           2
25           708           2
27           891           2
31           872           2
32           759           2
33           671           2
34           669           2
40           722           2
56           800           2</code></pre>
</div>
</div>
<p>I am sure you now get the gist of what is happening here with these logical statements for subsetting, or filtering data accordingly. We are now in the final stretch - let us learn how to save and export a dataset as a CSV spreadsheet.</p>
</section>
</section>
</section>
<section id="saving-your-dataset-length-001113" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="saving-your-dataset-length-001113"><span class="header-section-number">1.5</span> Saving your dataset (Length: 00:11:13)</h2>
<div class="cell" data-warnings="false">
<div class="cell-output-display">
<div class="vembedr" align="center">
<div>
<iframe src="https://www.youtube.com/embed/Ssiawr3ADnw" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
</div>
</div>
<p><a href="https://youtu.be/Ssiawr3ADnw">[<strong>Watch on YouTube</strong>]</a></p>
<p>This operation is very easy to perform. Once you have created your filtered data, you can use the following function <code>write.csv()</code> to save it as a new CSV file:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(schools_650_ofsted2, <span class="at">file =</span> <span class="st">"Filtered_example_data.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The above syntax should save a new CSV file named as <code>Filtered_example_data.csv</code>. Do not forget to save your R-script!</p>
</section>
<section id="summary" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="summary"><span class="header-section-number">1.6</span> Summary</h2>
<p>You have learned the following:</p>
<ol type="1">
<li>Set your working directory on Mac and Windows</li>
<li>Import a .csv file into RStudio</li>
<li>Understand the structure of a data frame (rows and columns)</li>
<li>Filter data using both numeric and categorical variables</li>
<li>Combine multiple conditions with logical operators to perform further filtering of data</li>
<li>Export data back into a .csv file</li>
</ol>
</section>
</section>
<section id="worksheet-one-workflow-and-generating-data-in-rstudio" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Worksheet One: Workflow and Generating Data in RStudio</h1>
<p>In this worksheet, we will put into practice some of the basics we learned in Introduction I and II. The aim of this worksheet is to transcribe the image data containing stormwater drain infrastructure and sanitation information using the following R code syntax:</p>
<ul>
<li>Assignment operator <code>&lt;-</code></li>
<li>Combine function <code>c()</code></li>
<li>Data frame function <code>data.frame()</code></li>
<li>Display data structure of output <code>str()</code></li>
<li>Using logical operators</li>
<li>Save function <code>write.csv()</code></li>
</ul>
<p><strong>Scenario: Stormwater Drainage Survey Data</strong></p>
<p>In Accra, between June and July 2024, we conducted a stormwater drainage survey to identify exposed drainage points along street segments that were clogged with solid waste (e.g., plastics and rubbish) and stagnant water, with the aim of reducing the burden of poor environmental sanitation and the risk of mosquito-borne infestation.</p>
<p>Following information has been captured in annotated images:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/all_images/tasks/00_drain_exhibits.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Use the information in the white text box of each image to construct a data frame in RStudio.</p>
<ol type="1">
<li>Use the <code>c( )</code> function with assignment operator (<code>&lt;-</code>) to create the following vector objects with the names:</li>
</ol>
<ul>
<li><code>GoProID</code>: it contains the image ID numbers</li>
<li><code>Latitude</code>: it contains the y-coordinate of surveyed location</li>
<li><code>Longitude</code>: it contains the x-coordinate of surveyed location</li>
<li><code>Sanitation</code>: it contains information about the sanitation state of drain</li>
<li><code>SolidWaste</code>: it describes presence or absence of solid waste materials in drain</li>
<li><code>Structure</code>: it describes whether the structure of the drain was damaged (or not) or it being a “run off” drain</li>
<li><code>Stagnation</code>: refers to flow obstruction in drain resulting in it be stagnated</li>
<li><code>Mosquitoes</code>: refers to evidence of mosquito breeding in drain due to condition</li>
</ul>
<ol start="2" type="1">
<li>Use the <code>data.frame()</code> with the assignment operator (<code>&lt;-</code>) to create the data frame object <code>drainage_data</code>.</li>
<li>Use the <code>str()</code> to describe the structure of <code>drainage_data</code> data frame.</li>
<li>Use the following row conditions i.e., drains classified as having <strong>Poor</strong> sanitary state <strong>AND</strong> it is a <strong>Breeding Spot</strong> for mosquitoes at the same time to perform a filter on the <code>drainage_data</code> object. At the same time, limit the filtered data to the following columns: <code>GoProID</code>, <code>Latitude</code>, <code>Longitude</code>, <code>Sanitation</code> and <code>Mosquitoes</code><br>
</li>
<li>Use the <code>write.csv()</code> to save your new filtered dataset.</li>
</ol>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Please use the answer sheet <a href="https://github.com/UCLPG-MSC-SGDS/GEOG0186/raw/main/tasks/Answers%20sheet%20for%20task%201.docx"><strong>HERE</strong></a> to insert a screenshot of the dataset, paste the full code syntax, and provide an interpretation of the dataset and workflow. Note that this <strong>Worksheet 1</strong>, in particular, along with <strong>Worksheets 2 and 3</strong>, will only be assessed in person, and feedback will also be given in person. Whereas <strong>Worksheets 4 and 5 - London Air Quality</strong> - will be formatively marked accordingly. You need to submit at least 2 (out of 5) QSkills worksheets in your final portfolio.</p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./02-basic_building_blocks.html" class="pagination-link" aria-label="Introduction I">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Introduction I</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./04-frequency_distribution.html" class="pagination-link" aria-label="Examining Data I">
        <span class="nav-page-text">Examining Data I</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/UCLPG-MSC-SGDS/GEOG0186/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer><script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>